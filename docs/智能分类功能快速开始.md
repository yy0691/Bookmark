# 智能分类功能 - 快速开始指南

> 📚 **完整技术文档**: 详见 `智能分类系统技术文档.md`
> 
> ✅ **完成清单**: 详见 `智能分类功能完成清单.md`

---

## 🚀 5分钟快速开始

### 场景1️⃣: 我想立即开始分类（无需任何配置）

```
1️⃣ 打开分析页面 (analysis.html)
   ↓
2️⃣ 选择"智能分类"任务卡片 ✓ (已默认选中)
   ↓
3️⃣ 点击"开始分析"按钮
   ↓
4️⃣ 等待分析完成（1000个书签约5-10秒）
   ↓
5️⃣ 查看分类建议结果
   ↓
6️⃣ 应用或导出结果
```

**特点**: 🟢 完全免费 | 🟢 无需配置 | 🟡 准确度70-80%

---

### 场景2️⃣: 我想获得更高的分类准确度（使用AI）

#### 步骤1: 获取API密钥

**选项A: 使用 Google Gemini (推荐)**
```
1. 访问 https://aistudio.google.com/apikey
2. 点击"Create API Key"
3. 复制生成的密钥
4. 保管好，后续会用到
```

**选项B: 使用 OpenAI**
```
1. 访问 https://platform.openai.com/api-keys
2. 创建新密钥
3. 复制密钥
4. 确保账户有余额
```

**选项C: 使用自定义API**
```
配置自己的LLM API服务
需要指定：
- API端点URL
- 模型标识符
- API密钥
```

#### 步骤2: 保存API设置

```
1️⃣ 打开设置页面 (options.html)
   ↓
2️⃣ 找到"🤖 API设置"部分
   ↓
3️⃣ 选择API提供商
   - Google Gemini
   - OpenAI
   - 自定义API
   ↓
4️⃣ 输入API密钥
   ↓
5️⃣ 选择模型版本 (推荐使用默认)
   ↓
6️⃣ 点击"测试连接"验证 ✓
   ↓
7️⃣ 点击"保存"
```

#### 步骤3: 开始精准分类

```
1️⃣ 返回分析页面 (analysis.html)
   ↓
2️⃣ 选择"智能分类"任务
   ↓
3️⃣ 点击"开始分析"
   ↓
4️⃣ 系统自动调用LLM增强分类
   ↓
5️⃣ 实时日志显示分析进度
   ↓
6️⃣ 查看高准确度的分类结果 ⭐
```

**特点**: 🟢 准确度85-95% | 🟡 需要API密钥 | 🔴 按使用计费

---

## 📊 功能对比

| 功能 | 本地分类 | LLM增强 |
|-----|--------|--------|
| **准确度** | 70-80% | 85-95% |
| **处理速度** | 1秒/1000本 | 30-60秒/1000本 |
| **成本** | 免费 | 低成本 |
| **需要配置** | 否 | 是 |
| **失败回退** | N/A | ✅ 自动回退到本地 |
| **适用场景** | 快速初步分类 | 精准分类整理 |

---

## 💡 使用技巧

### Tip 1: 查看分类日志

```
分析过程中，右侧"日志"面板会显示：
- 🚀 操作进度
- 📊 处理批次
- ⚠️ 任何警告
- ❌ 错误信息

通过日志可以了解系统的工作状态
```

### Tip 2: 理解分类信息

```
每个分类结果显示：
- 📌 书签标题
- 🔗 URL地址
- 📂 建议分类 (例: 技术、社交、娱乐)
- 📈 置信度百分比 (仅LLM模式)
- 🔍 分类来源 (local 或 llm_enhanced)
```

### Tip 3: 应用分类结果

```
三种操作方式：
1. ✅ 逐项审核 - 查看每个建议后选择应用
2. 📋 批量选择 - 勾选多个，点击"全选"
3. 📥 一键应用 - 应用所有选中的分类
4. 💾 导出结果 - 下载JSON格式的分析结果
```

### Tip 4: 优化成本

```
🎯 用最少的成本获得最好的结果：

1️⃣ 先用本地分类（免费）
   - 大部分书签已正确分类
   
2️⃣ 再用LLM增强（按需）
   - 仅对不确定的书签调用LLM
   - 或者仅处理新增书签
   
3️⃣ 选择便宜的模型
   - Gemini: 免费额度充足
   - OpenAI: 使用gpt-3.5-turbo而非gpt-4
```

---

## 🔧 自定义分类规则

想要修改分类规则吗？很简单！

### 修改本地分类规则

编辑 `pages/newtab/analysis.js`，找到 `localCategorize()` 方法：

```javascript
// 修改前：支持github.com的分类
const domainRules = {
    '技术': ['github.com', 'stackoverflow.com', ...],
    '购物': ['amazon.com', 'taobao.com', ...],
};

// 修改后：添加你的自定义规则
const domainRules = {
    '技术': ['github.com', 'stackoverflow.com', 'my-tech-site.com'],
    '购物': ['amazon.com', 'taobao.com', 'my-shop.com'],
    '我的分类': ['my-domain.com'],  // ✨ 新增分类
};
```

修改后**无需任何构建**，刷新页面即可生效！

### 添加新的关键词

同样在 `localCategorize()` 中找到标题关键词规则：

```javascript
// 添加新的标题关键词
const titleRules = {
    '游戏': ['game', 'gaming', '游戏', 'steam', 'itch.io'],  // ✨ 已有
    '开发': ['code', 'programming', '开发', '编程', 'golang'],  // ✨ 添加golang
};
```

---

## ❓ 常见问题

### Q1: 没有API密钥也能用吗？
**A**: 完全可以！系统会使用本地分类规则，准确度70-80%，完全免费。

### Q2: LLM分类失败了怎么办？
**A**: 别担心，系统会自动回退到本地分类，分析继续进行。

### Q3: 分类结果会保存吗？
**A**: 默认不保存，仅在当前会话显示。可以点击"导出"下载JSON格式的结果。

### Q4: 可以修改已应用的分类吗？
**A**: 当前版本不支持修改已应用的分类。将在Phase 2中支持。

### Q5: 支持哪些分类？
**A**: 当前支持：技术、社交、购物、娱乐、学习、新闻、工作、设计、其他。可自定义添加。

### Q6: 分类算法是什么？
**A**: 两层算法：
1. 本地规则 - 基于域名和关键词匹配
2. LLM增强 - 调用大语言模型获得更准确的分类

---

## 🎓 架构概览

```
┌─────────────────────────────────────┐
│     用户界面 (analysis.html)        │
├─────────────────────────────────────┤
│  分析中心 (AnalysisCenter)          │
├─────────────────────────────────────┤
│  分类引擎                           │
│  ├─ 本地规则 (快速)                │
│  └─ LLM增强 (准确)                 │
├─────────────────────────────────────┤
│  API服务层                          │
│  ├─ Gemini API                      │
│  ├─ OpenAI API                      │
│  └─ Custom API                      │
├─────────────────────────────────────┤
│  Chrome Storage (配置存储)          │
└─────────────────────────────────────┘
```

---

## 📈 预期效果

使用本地分类后：
- ✅ 快速分类 (1000本/5秒)
- ✅ 自动分类到8大类别
- ✅ 节省手动整理时间

升级为LLM增强后：
- ✅ 更高准确度 (85-95%)
- ✅ 更智能的分类理由
- ✅ 更少的手动修改

---

## 🚀 下一步

### 立即体验
```
1. 打开 pages/newtab/analysis.html
2. 选择"智能分类"
3. 点击"开始分析"
4. 查看魔法发生！✨
```

### 想了解更多？
```
📚 详细技术文档: docs/智能分类系统技术文档.md
✅ 完成清单: docs/智能分类功能完成清单.md
```

### 想扩展功能？
```
🔧 编辑 pages/newtab/analysis.js
📝 修改分类规则
🎨 定制你的需求
```

---

## 💬 反馈和建议

有任何问题或建议？
- 📧 提交 Issue
- 💭 讨论功能建议
- 🐛 报告 Bug

---

## 📝 版本信息

- **当前版本**: v1.0.0
- **发布日期**: 2025-10-18
- **状态**: ✅ 正式版

---

**祝你使用愉快！** 🎉

如有任何问题，欢迎参考完整的技术文档或联系开发团队。
