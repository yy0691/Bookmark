<!DOCTYPE html>
<html lang="zh-CN" data-theme="light" data-accent="blue">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>智能分析中心</title>
    <link rel="icon" type="image/svg+xml" href="../../images/icon.svg">
    
    <!-- 引入统一UI样式标准 -->
    <link rel="stylesheet" href="../../styles/index.css">
    
    <!-- 引入现代化分析中心样式 -->
    <link rel="stylesheet" href="analysis.css">
    
    <!-- 引入图标库 -->
    <script src="../../lucide.min.js"></script>
</head>
<body>
    <div class="analysis-container">
        <!-- 顶部导航栏 - 与 index 一致的样式 -->
        <header class="top-nav">
            <div class="nav-left">
                <a href="#" class="logo">📚 BookmarkHub</a>
            </div>
            <div class="nav-right">
                <button class="nav-btn" title="返回首页">
                    <i data-lucide="arrow-left" width="18" height="18"></i>
                </button>
                <button class="nav-btn" title="刷新">
                    <i data-lucide="refresh-cw" width="18" height="18"></i>
                </button>
                <button class="nav-btn" title="导出">
                    <i data-lucide="download" width="18" height="18"></i>
                </button>
            </div>
        </header>

        <!-- 主内容 -->
        <main class="main-container">
            <!-- 页面头部 -->
            <div class="page-header">
                <h1 class="page-title">智能分析</h1>
                <div class="page-actions">
                    <button class="btn btn-primary" id="start-analysis-btn">
                        <span>🤖</span> 开始分析
                    </button>
                    <button class="btn btn-danger" id="cancel-analysis-btn" style="display: none;">
                        <span>⏹️</span> 取消
                    </button>
                </div>
            </div>

            <!-- 任务卡片 -->
            <div class="task-cards-grid" id="taskCards">
                <div class="task-card active" data-tab="smart">
                    <div class="task-icon">📊</div>
                    <div class="task-title">智能分类</div>
                    <div class="task-desc">分类并整理书签</div>
                </div>
                <div class="task-card" data-tab="duplicates">
                    <div class="task-icon">📈</div>
                    <div class="task-title">重复检测</div>
                    <div class="task-desc">找到重复的书签</div>
                </div>
                <div class="task-card" data-tab="deadlinks">
                    <div class="task-icon">⚠️</div>
                    <div class="task-title">失效链接</div>
                    <div class="task-desc">检测无效的链接</div>
                </div>
                <div class="task-card" data-tab="emptyfolders">
                    <div class="task-icon">📁</div>
                    <div class="task-title">空文件夹</div>
                    <div class="task-desc">查找空的文件夹</div>
                </div>
            </div>

            <!-- 结果面板 -->
            <div class="widget" id="resultsWidget">
                <div class="widget-header">
                    <i data-lucide="list" class="widget-icon"></i>
                    <h2 class="widget-title" id="resultsTitle">智能分类</h2>
                </div>
                <div class="widget-content" id="resultsContent">
                    <div class="empty-state">
                        <div class="empty-icon">📋</div>
                        <h3 class="empty-title">点击开始分析</h3>
                        <p class="empty-desc">分析您的书签并提供智能分类建议</p>
                    </div>
                </div>
                <!-- ✨ 新增：批量操作栏 -->
                <div class="batch-actions" id="batchActions" style="display: none; padding: 12px; border-top: 1px solid var(--border-color); background: var(--bg-secondary); gap: 8px; justify-content: flex-end;">
                    <button class="btn btn-secondary" id="select-all-btn" title="全选">
                        <span>☑️</span> 全选
                    </button>
                    <button class="btn btn-primary" id="apply-to-bookmarks-btn" title="应用到浏览器书签">
                        <span>✨</span> 应用到书签
                    </button>
                    <button class="btn btn-secondary" id="undo-last-apply-btn" title="撤销最后一次应用">
                        <span>↩️</span> 撤销
                    </button>
                </div>
            </div>

            <!-- 日志面板 -->
            <div class="logs-panel" id="logsPanel" style="display: none;">
                <div class="logs-header">
                    <span class="logs-title">📋 分析日志</span>
                    <span class="logs-count" id="logsCount">0</span>
                </div>
                <div class="logs-content" id="logsContent">
                    <!-- 日志会动态填充 -->
                </div>
            </div>
        </main>
    </div>

    <!-- 引入模块 -->
    <script type="module" src="analysis.js"></script>
</body>
</html>

